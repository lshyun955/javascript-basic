<!DOCTYPE html>
<html>
  <head>
    <title>Document</title>
  </head>
  <body>
    <div id="div1"></div>
    <script>
      // Array
      // toString()
      var fruits = ["Banana", "Orange", "Apple"];
      console.log(fruits);
      console.log(fruits.toString());

      // join()
      console.log(fruits.join(" * "));
      var txt = "Banana<br>";
      txt += "Orange<br>";
      txt += "Apple<br>";

      var arr = [];
      arr.push("Banana");
      arr.push("Orange");
      arr.push("Apple");
      // document.getElementById("div1").innerHTML = txt;
      document.getElementById("div1").innerHTML = arr.join("<br>");

      // pop()
      // 배열의 가장 마지막 element를 제거
      //pop() 하면, 제거된 element가 리턴됨.
      var str = fruits.pop();
      console.log(str);
      console.log(fruits);

      // push()
      // 배열 마지막에 새로운 element 추가
      fruits.push("Kiwi");
      console.log(fruits);

      // shift()
      // 배열의 첫번째 element를 제거함
      // shift() 하면, 제거된 element가 리턴됨.
      var str = fruits.shift();
      console.log(str);
      console.log(fruits);

      // unshift()
      // 배열의 첫번째에 새로운 element 추가
      fruits.unshift("Lemon");
      console.log(fruits);

      fruits[0] = "Banana";

      console.log(fruits);

      fruits[fruits.length - 1] = "Lemon";
      console.log(fruits);

      // splice(param1, param2, ...param3)
      // param1 - 시작위치
      // param2 - 시작위치에서 삭제할 원소 개수
      // param3 - 시작위치에 넣을 원소들.
      var fruits = ["Banana", "Orange", "Apple"];
      fruits.splice(1, 0, "Lemon", "Kiwi"); // ['Banana', 'Lemon', 'Kiwi', 'Apple']
      // fruits.splice(1, 1); // ["Banana", "Apple"]  --> 삽입안하고 단순 삭제로도 씀
      console.log(fruits);

      // concat()
      var myBoys = ["Eunhyeok"];
      var myGirls = ["Eunseo", "Eunsol"];
      var myChildren = myBoys.concat(myGirls);
      console.log(myChildren);

      // slice(start, end)
      // var fruits2 = fruits.slice(1);
      // console.log(fruits);
      // console.log(fruits2);

      // sort() - 문자로 변환해서 정렬함. 기본값 오름차순.
      console.log(fruits.sort());

      var points = [70, 40, 100, 70, 70, 21, 99];
      // console.log(points.sort());
      // console.log(points);
      points.sort(function (next, prev) {
        console.log("next : " + next + "  " + "prev : " + prev);
        return prev - next;
      });

      console.log(points);

      //  reverse()
      console.log(points.reverse());

      var persons = [
        { name: "유재석", point: 78, city: "서울" },
        { name: "김종국", point: 92, city: "서울" },
        { name: "양세찬", point: 76, city: "제주" },
        { name: "하하", point: 81, city: "서울" },
      ];

      // persons.sort(function (next, prev) {
      //   // if (next.point > prev.point) {
      //   //   return 1;
      //   // } else if (next.point < prev.point) {
      //   //   return -1;
      //   // } else {
      //   //   return 0;
      //   // }
      //   return next.point > prev.point ? 1 : next.point < prev.point ? -1 : 0;
      // });
      // console.log(persons);
      // var arr3 = [...fruits];
      // console.log(arr3 == fruits); // false

      // filter() 매우중요
      // 조건에 맞는 배열만 return
      var pass = persons.filter(function (person) {
        return person.point > 80;
      });
      console.log(pass);

      var jeju = persons.filter(function (person) {
        return person.city == "제주";
      });
      console.log(jeju);

      var jeju = [];
      for (var i = 0; i < persons.length; i++) {
        if (persons[i].city == "제주") {
          jeju.push(persons[i]);
        }
      }
      console.log(jeju);

      // reduce(accumulator, currentValue)
      // accumulator - 누산기
      // currentValue - 배열 읽으면서 현재값
      // currentIdex - 현재 인덱스
      // arr - 전체배열
      // 오브젝트로 정의돼서 들어가서 계산할 때 굉장히 많이 사용함.

      var arr1 = [1, 2, 3, 4];
      // for (var x of arr1) {
      //   total += x;
      // }
      // console.log(total);
      var total = arr1.reduce(function (a, c, i, arr) {
        console.log(arr); // [1, 2, 3, 4]
        console.log(i); // 1, 2, 3
        return a + c;
      });
      console.log(total);

      // map()
      var userList = [
        { firstName: "재석", lastName: "유", email: "yu@gmail.com" },
        { firstName: "종국", lastName: "김", email: "kim@gmail.com" },
        { firstName: "세찬", lastName: "양", email: "yang@gmail.com" },
        { firstName: "석진", lastName: "지", email: "ji@gmail.com" },
      ];

      var userList2 = userList.map(function (user) {
        return {
          firstName: user.firstName,
          lastName: user.lastName,
          fullName: user.lastName.concat(user.firstName),
        };
      });

      console.log(userList2);
    </script>
  </body>
</html>
